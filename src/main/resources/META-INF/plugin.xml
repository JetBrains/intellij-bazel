<idea-plugin>
    <id>org.jetbrains.bsp.bazel</id>
    <name>Bazel</name>
    <vendor>JetBrains</vendor>

    <depends>com.intellij.modules.platform</depends>
    <!--    <depends>org.jetbrains.bsp</depends>-->

    <extensions defaultExtensionNs="com.intellij">
        <!--        <bspConnectionDetailsGeneratorExtension-->
        <!--                implementation="org.jetbrains.bsp.bazel.extension.BazelBspConnectionDetailsGenerator"-->
        <!--        />-->
        <fileType
                name="Starlark"
                implementationClass="org.jetbrains.bsp.bazel.languages.starlark.StarlarkLanguageFileType"
                fieldName="INSTANCE"
                language="Starlark"
                fileNames="BUILD;WORKSPACE"
                extensions="bzl;bazel"/>

        <lang.parserDefinition
                language="Starlark"
                implementationClass="org.jetbrains.bsp.bazel.languages.starlark.StarlarkParserDefinition"/>

        <lang.syntaxHighlighterFactory
                language="Starlark"
                implementationClass="org.jetbrains.bsp.bazel.languages.starlark.StarlarkSyntaxHighlighterFactory"/>
        <colorSettingsPage
                implementation="org.jetbrains.bsp.bazel.languages.starlark.StarlarkColorSettingsPage"/>
        <additionalTextAttributes
                scheme="Default"
                file="colorSchemes/StarlarkDefault.xml"/>
        <additionalTextAttributes
                scheme="Darcula"
                file="colorSchemes/StarlarkDarcula.xml"/>

        <annotator
                language="Starlark"
                implementationClass="org.jetbrains.bsp.bazel.languages.starlark.annotations.StarlarkFunctionHighlightingAnnotator"/>

        <!--Starlark Annotations -->
        <postStartupActivity implementation="org.jetbrains.bsp.bazel.languages.starlark.build.info.BazelInfoBuildLanguageRunner"/>
        <projectService serviceImplementation="org.jetbrains.bsp.bazel.languages.starlark.build.info.ProjectBuildLanguageInfoService"/>

        <annotator
                language="Starlark"
                implementationClass="org.jetbrains.bsp.bazel.languages.starlark.annotations.rules.InvalidRuleArgumentAnnotator"/>

        <annotator
                language="Starlark"
                implementationClass="org.jetbrains.bsp.bazel.languages.starlark.annotations.rules.DuplicatedNamedRuleArgumentAnnotator"/>

        <annotator
                language="Starlark"
                implementationClass="org.jetbrains.bsp.bazel.languages.starlark.annotations.rules.MissingRequiredNamedRuleArgumentsAnnotator"/>

    </extensions>


</idea-plugin>
